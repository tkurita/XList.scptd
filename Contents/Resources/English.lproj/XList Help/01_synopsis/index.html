<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

  <!-- InstanceBegin template="../../../../../_Templates/helpbook-page-with-applescript.dwt" -->

    <head>
      <meta name="keywords" content="XList, AppleScript" />
      <meta http-equiv="content-type" content="text/html;charset=utf-8" />
      <title>Synopsis</title>
      <meta name="description" content="Sample code and so on." />
      <!-- #BeginHeadLocked "" -->
        <link href="assets/helpbook-default.css" type="text/css" rel="stylesheet" media="all" />
        <link href="assets/helpbook-navibar.css" type="text/css" rel="stylesheet" media="all" />
        <link href="assets/AppleScript.css" type="text/css" rel="stylesheet" media="all" />
        <script type="text/javascript" src="assets/navibar-jump.js"></script>
        <link id="helpviewer-handler-helper" href="assets/helpviewer-handler-helper.scpt" />
        <script type="text/javascript" src="assets/helpviewer-handler-enable.js"></script>
      <!-- #EndHeadLocked -->
      <link id="HelpBookRoot" href="../" />
    </head>

    <body>
      <!-- InstanceBeginEditable name="navi-bar" -->
        <div id="navi-bar">
          <span class="navibar-item"><a href="../index.html">XList Help</a></span><span class="navibar-item">Synopsis</span><select onchange="navibarJump(this)">
            <option value="">ยง</option>
            <option value="#what">What ?</option>
            <option value="#sample">Sample</option>
          </select></div>
        <div class="prev-next-item">
          <a href="../02_reference/index.html"><span class="navibar-next">XList Reference</span></a></div>
      <!-- InstanceEndEditable -->
      <div id="contents">
        <!-- InstanceBeginEditable name="Body" -->
          <h1>Synopsis</h1>
          <h2><a id="what" name="what"></a>What ?</h2>
          <p>XList provides a wrapper object for AppleScript's list data to enable functions of Iterator, Queue, Stack. Many missing feature of AppleScript's list are covered.</p>
          <p>Also XList will contribute pefermance of the script. The AppleScript have a characteristics that fast accessing list items must be thorugh a reference of a list. XList can hide such complicated code, and give simple codes and the best performance. </p>
          <h2><a id="sample" name="sample"></a>Sample</h2>
          <div class="sourceCode">
            <div>
              <span class="langKeyword">property</span> <span class="userDefine">XList</span> <span class="normal">:</span> <span class="appKeyword">module</span></div>
            <br />
            <div>
              <span class="appKeyword">boot</span> <span class="normal">(</span><span class="appKeyword">module loader</span><span class="normal">)</span> <span class="appKeyword">for</span> <span class="langKeyword">me</span></div>
            <br />
            <div>
              <span class="normal">(*</span><span class="comment"> Iterator </span><span class="normal">*)</span></div>
            <div>
              <span class="langKeyword">set</span> <span class="userDefine">an_iterator</span> <span class="langKeyword">to</span> <span class="userDefine">XList</span><span class="normal">'s</span> <span class="userDefine">make_with</span><span class="normal">({&quot;a&quot;,</span> <span class="normal">&quot;b&quot;,</span> <span class="normal">&quot;c&quot;})</span></div>
            <br />
            <div>
              <span class="langKeyword">repeat</span> <span class="langKeyword">while</span> <span class="userDefine">an_iterator</span><span class="normal">'s</span> <span class="userDefine">has_next</span><span class="normal">()</span></div>
            <div style="text-indent:4ex;">
              <span class="langKeyword">set</span> <span class="userDefine">an_item</span> <span class="langKeyword">to</span> <span class="userDefine">next</span><span class="normal">()</span> <span class="langKeyword">of</span> <span class="userDefine">an_iterator</span></div>
            <div style="text-indent:4ex;">
              <span class="appKeyword">log</span> <span class="userDefine">an_item</span></div>
            <div>
              <span class="langKeyword">end</span> <span class="langKeyword">repeat</span></div>
            <br />
            <div>
              <span class="normal">(*</span><span class="comment"> Queue </span><span class="normal">*)</span></div>
            <div>
              <span class="langKeyword">set</span> <span class="userDefine">a_queue</span> <span class="langKeyword">to</span> <span class="appKeyword">make</span> <span class="userDefine">XList</span></div>
            <div>
              <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">unshift</span><span class="normal">(&quot;a&quot;)</span></div>
            <div>
              <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">unshift</span><span class="normal">(&quot;b&quot;)</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">shift</span><span class="normal">()</span> <span class="normal">--</span><span class="comment"> result : &quot;b&quot;</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">shift</span><span class="normal">()</span> <span class="normal">--</span><span class="comment"> result : &quot;a&quot;</span></div>
            <br />
            <div>
              <span class="normal">(*</span><span class="comment"> Stack </span><span class="normal">*)</span></div>
            <div>
              <span class="langKeyword">set</span> <span class="userDefine">a_stack</span> <span class="langKeyword">to</span> <span class="appKeyword">make</span> <span class="userDefine">XList</span></div>
            <div>
              <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">push</span><span class="normal">(&quot;a&quot;)</span></div>
            <div>
              <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">push</span><span class="normal">(&quot;b&quot;)</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">pop</span><span class="normal">()</span> <span class="normal">--</span><span class="comment"> result : &quot;b&quot;</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_queue</span><span class="normal">'s</span> <span class="userDefine">pop</span><span class="normal">()</span> <span class="normal">--</span><span class="comment"> result : &quot;a&quot;</span></div>
            <br />
            <div>
              <span class="normal">(*</span><span class="comment"> Accessing list elements </span><span class="normal">*)</span></div>
            <div>
              <span class="langKeyword">set</span> <span class="userDefine">a_list</span> <span class="langKeyword">to</span> <span class="userDefine">XList</span><span class="normal">'s</span> <span class="userDefine">make_with</span><span class="normal">({&quot;a&quot;,</span> <span class="normal">&quot;b&quot;,</span> <span class="normal">&quot;c&quot;})</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">item_counts</span><span class="normal">()</span> <span class="normal">--</span><span class="comment"> 3</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">item_at</span><span class="normal">(2)</span> <span class="normal">--</span><span class="comment"> &quot;b&quot;</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">has_item</span><span class="normal">(&quot;b&quot;)</span> <span class="normal">--</span><span class="comment">true</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">has_item</span><span class="normal">(&quot;d&quot;)</span> <span class="normal">--</span><span class="comment">false</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">index_of</span><span class="normal">(&quot;b&quot;)</span> <span class="normal">--</span><span class="comment"> 2</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">index_of</span><span class="normal">(&quot;d&quot;)</span> <span class="normal">--</span><span class="comment"> 0</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">delete_at</span><span class="normal">(2)</span> <span class="normal">--</span><span class="comment"> &quot;b&quot;</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="normal">(</span><span class="userDefine">set_item</span> <span class="langKeyword">of</span> <span class="userDefine">a_list</span> <span class="appKeyword">for</span> <span class="normal">&quot;e&quot;</span> <span class="appKeyword">at</span> <span class="normal">2)</span> <span class="normal">--</span><span class="comment"> &quot;e&quot;</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">list_ref</span><span class="normal">()</span> <span class="normal">--</span><span class="comment"> {&quot;a&quot;, &quot;e&quot;}</span></div>
            <br />
            <div>
              <span class="normal">(*</span><span class="comment"> Conversion to Text </span><span class="normal">*)</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">a_list</span><span class="normal">'s</span> <span class="userDefine">as_unicode_with</span><span class="normal">(&quot;, &quot;)</span> <span class="normal">--</span><span class="comment"> &quot;a, e&quot;</span></div>
            <br />
            <div>
              <span class="normal">(*</span><span class="comment"> Accessing all items with a closure </span><span class="normal">*)</span></div>
            <div>
              <span class="langKeyword">script</span> <span class="userDefine">scriptA</span></div>
            <div style="text-indent:4ex;">
              <span class="langKeyword">on</span> <span class="userDefine">do</span><span class="normal">(</span><span class="userDefine">x</span><span class="normal">)</span></div>
            <div style="text-indent:8ex;">
              <span class="langKeyword">if</span> <span class="appKeyword">contents</span> <span class="langKeyword">of</span> <span class="userDefine">x</span> <span class="langKeyword">is</span> <span class="normal">&quot;b&quot;</span> <span class="langKeyword">then</span></div>
            <div style="text-indent:12ex;">
              <span class="langKeyword">set</span> <span class="appKeyword">contents</span> <span class="langKeyword">of</span> <span class="userDefine">x</span> <span class="langKeyword">to</span> <span class="normal">&quot;d&quot;</span> <span class="normal">--</span><span class="comment"> change an item of a list</span></div>
            <div style="text-indent:8ex;">
              <span class="langKeyword">end</span> <span class="langKeyword">if</span></div>
            <div style="text-indent:8ex;">
              <span class="langKeyword">return</span> <span class="appKeyword">true</span></div>
            <div style="text-indent:4ex;">
              <span class="langKeyword">end</span> <span class="userDefine">do</span></div>
            <div>
              <span class="langKeyword">end</span> <span class="langKeyword">script</span></div>
            <br />
            <div>
              <span class="userDefine">an_iterator</span><span class="normal">'s</span> <span class="userDefine">each</span><span class="normal">(</span><span class="userDefine">scriptA</span><span class="normal">)</span></div>
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">an_iterator</span><span class="normal">'s</span> <span class="userDefine">all_items</span><span class="normal">()</span> <span class="normal">--</span><span class="comment"> result : {&quot;a&quot;, &quot;d&quot;, &quot;c&quot;}</span></div>
            <br />
            <br />
            <div>
              <span class="langKeyword">script</span> <span class="userDefine">scriptB</span></div>
            <div style="text-indent:4ex;">
              <span class="langKeyword">on</span> <span class="userDefine">do</span><span class="normal">(</span><span class="userDefine">x</span><span class="normal">)</span></div>
            <div style="text-indent:8ex;">
              <span class="langKeyword">return</span> <span class="userDefine">x</span> <span class="normal">&amp;</span> <span class="normal">&quot;a&quot;</span></div>
            <div style="text-indent:4ex;">
              <span class="langKeyword">end</span> <span class="userDefine">do</span></div>
            <div>
              <span class="langKeyword">end</span> <span class="langKeyword">script</span></div>
            <br />
            <div>
              <span class="appKeyword">log</span> <span class="userDefine">an_iterator</span><span class="normal">'s</span> <span class="userDefine">map_as_list</span><span class="normal">(</span><span class="userDefine">scriptB</span><span class="normal">)</span> <span class="normal">--</span><span class="comment"> result : {&quot;aa&quot;, &quot;da&quot;, &quot;ca&quot;}</span></div>
            <div class="scriptButton" >
              <input type="button" value="edit" onclick="document.location = this.src" src="applescript://com.apple.scripteditor?action=new%26script=property%20XList%20:%20module%0D%0Dboot%20(module%20loader)%20for%20me%0D%0D(*%20Iterator%20*)%0Dset%20an_iterator%20to%20XList%27s%20make_with(%7B%22a%22,%20%22b%22,%20%22c%22%7D)%0D%0Drepeat%20while%20an_iterator%27s%20has_next()%0D%09set%20an_item%20to%20next()%20of%20an_iterator%0D%09log%20an_item%0Dend%20repeat%0D%0D(*%20Queue%20*)%0Dset%20a_queue%20to%20make%20XList%0Da_queue%27s%20unshift(%22a%22)%0Da_queue%27s%20unshift(%22b%22)%0Dlog%20a_queue%27s%20shift()%20--%20result%20:%20%22b%22%0Dlog%20a_queue%27s%20shift()%20--%20result%20:%20%22a%22%0D%0D(*%20Stack%20*)%0Dset%20a_stack%20to%20make%20XList%0Da_queue%27s%20push(%22a%22)%0Da_queue%27s%20push(%22b%22)%0Dlog%20a_queue%27s%20pop()%20--%20result%20:%20%22b%22%0Dlog%20a_queue%27s%20pop()%20--%20result%20:%20%22a%22%0D%0D(*%20Accessing%20list%20elements%20*)%0Dset%20a_list%20to%20XList%27s%20make_with(%7B%22a%22,%20%22b%22,%20%22c%22%7D)%0Dlog%20a_list%27s%20item_counts()%20--%203%0Dlog%20a_list%27s%20item_at(2)%20--%20%22b%22%0Dlog%20a_list%27s%20has_item(%22b%22)%20--true%0Dlog%20a_list%27s%20has_item(%22d%22)%20--false%0Dlog%20a_list%27s%20index_of(%22b%22)%20--%202%0Dlog%20a_list%27s%20index_of(%22d%22)%20--%200%0Dlog%20a_list%27s%20delete_at(2)%20--%20%22b%22%0Dlog%20(set_item%20of%20a_list%20for%20%22e%22%20at%202)%20--%20%22e%22%0Dlog%20a_list%27s%20list_ref()%20--%20%7B%22a%22,%20%22e%22%7D%0D%0D(*%20Conversion%20to%20Text%20*)%0Dlog%20a_list%27s%20as_unicode_with(%22,%20%22)%20--%20%22a,%20e%22%0D%0D(*%20Accessing%20all%20items%20with%20a%20closure%20*)%0Dscript%20scriptA%0D%09on%20do(x)%0D%09%09if%20contents%20of%20x%20is%20%22b%22%20then%0D%09%09%09set%20contents%20of%20x%20to%20%22d%22%20--%20change%20an%20item%20of%20a%20list%0D%09%09end%20if%0D%09%09return%20true%0D%09end%20do%0Dend%20script%0D%0Dan_iterator%27s%20each(scriptA)%0Dlog%20an_iterator%27s%20all_items()%20--%20result%20:%20%7B%22a%22,%20%22d%22,%20%22c%22%7D%0D%0D%0Dscript%20scriptB%0D%09on%20do(x)%0D%09%09return%20x%20%26%20%22a%22%0D%09end%20do%0Dend%20script%0D%0Dlog%20an_iterator%27s%20map_as_list(scriptB)%20--%20result%20:%20%7B%22aa%22,%20%22da%22,%20%22ca%22%7D%0D" /></div>
          </div>
        <!-- InstanceEndEditable --></div>
      <!-- InstanceBeginEditable name="prev-next-item" --><!-- InstanceEndEditable -->
      <div class="footer">
        <p>This page was last built on <csobj format="MedDate" h="10" region="0" t="DateTime" w="72">Tue, Apr 17, 2012</csobj> ; <csobj format="LongTime" h="10" region="0" t="DateTime" w="45">8:02:49 PM</csobj> . Thanks for checking it out!</p>
      </div>
    </body>

  <!-- InstanceEnd -->

</html>